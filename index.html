<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BSC Masterpol - Tablero móvil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css_temp/styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-main">
      <h1>Balanced Scorecard Masterpol</h1>
      <p class="subtitle">
        Tablero integrado con indicadores por perspectiva, semaforización y análisis histórico.
        Optimizado para uso en celular.
      </p>
    </div>

    <div class="filters">
      <div class="filter-row">
        <div class="filter-group">
          <label for="selPeriodo">Período</label>
          <select id="selPeriodo"></select>
        </div>

        <div class="filter-group">
          <button id="btnUpd" type="button" class="btn-primary">Aplicar filtros</button>
        </div>
      </div>

      <div class="filter-row">
        <div class="filter-group full-width">
          <label>Comparar con</label>
          <div class="toggle-group">
            <button type="button" class="toggle" data-cmp="mes" aria-pressed="true">
              Mes anterior
            </button>
            <button type="button" class="toggle" data-cmp="tri" aria-pressed="false">
              Trimestre ant.
            </button>
            <button type="button" class="toggle" data-cmp="anio" aria-pressed="false">
              Año anterior
            </button>
            <button type="button" class="toggle" data-cmp="pres" aria-pressed="false">
              Presupuesto
            </button>
          </div>
        </div>
      </div>

      <div class="filter-row">
        <div class="filter-group full-width">
          <label for="q">Buscar indicador</label>
          <input id="q" type="text" placeholder="Escribí parte del nombre del KPI" />
        </div>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="summary-section">
      <h2>Resumen por perspectiva</h2>
      <p class="section-help">
        Cada tarjeta muestra cuántos indicadores están en verde en el período elegido y un semáforo global.
      </p>
      <div id="summary" class="summary-grid"></div>
    </section>

    <section class="kpi-section">
      <h2>Indicadores por perspectiva</h2>
      <p class="section-help">
        Tocá cualquier tarjeta para ver el detalle histórico, los valores por línea y la comparación con meta y presupuesto.
      </p>

      <article id="fin" class="perspective">
        <header class="persp-header">
          <div>
            <h3>Finanzas</h3>
            <p>Margen, rentabilidad y caja de Masterpol.</p>
          </div>
        </header>
        <div class="kpi-list"></div>
      </article>

      <article id="cli" class="perspective">
        <header class="persp-header">
          <div>
            <h3>Cliente</h3>
            <p>Nivel de servicio, reclamos y fidelidad.</p>
          </div>
        </header>
        <div class="kpi-list"></div>
      </article>

      <article id="pro" class="perspective">
        <header class="persp-header">
          <div>
            <h3>Procesos internos</h3>
            <p>Eficiencia, calidad y estabilidad de procesos.</p>
          </div>
        </header>
        <div class="kpi-list"></div>
      </article>

      <article id="apr" class="perspective">
        <header class="persp-header">
          <div>
            <h3>Aprendizaje y crecimiento</h3>
            <p>Capacitación, ideas de mejora y roles críticos.</p>
          </div>
        </header>
        <div class="kpi-list"></div>
      </article>

      <article id="sus" class="perspective">
        <header class="persp-header">
          <div>
            <h3>Sostenibilidad</h3>
            <p>Energía, emisiones y reciclaje.</p>
          </div>
        </header>
        <div class="kpi-list"></div>
      </article>
    </section>

    <section class="causa-section">
      <h2>Mapa de causa efecto</h2>
      <p class="section-help">
        Muestra cómo los indicadores de aprendizaje y procesos impactan sobre cliente y finanzas. Los colores reflejan el estado actual.
      </p>

      <div class="map-card">
        <svg id="map"></svg>
        <div class="legend">
          <span class="dot good"></span><span>Impacto positivo</span>
          <span class="dot bad"></span><span>Impacto negativo</span>
        </div>
      </div>

      <div id="relList" class="rel-list"></div>

      <div id="narrative" class="narrative"></div>
    </section>
  </main>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-dialog" role="dialog" aria-modal="true">
      <header class="modal-header">
        <div class="modal-title-block">
          <p class="modal-persp" id="dlgPersp"></p>
          <h2 id="dlgTitle"></h2>
        </div>
        <button id="btnClose" type="button" class="btn-icon" aria-label="Cerrar">×</button>
      </header>

      <section class="modal-body">
        <div class="modal-chart">
          <h3>Evolución de los últimos 24 meses</h3>
          <p class="chart-help">
            Azul: total. Verde: Línea A. Naranja: Línea B. Líneas de referencia para meta y umbral de alerta.
          </p>
          <svg id="dlgSpark"></svg>
        </div>

        <div class="modal-panel">
          <h3>Detalle del período actual</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Línea</th>
                <th>Valor</th>
                <th>Meta</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody id="dlgTbody"></tbody>
          </table>
        </div>

        <div class="modal-panel">
          <h3>Últimos 12 períodos</h3>
          <div id="dlgMonths" class="months-wrapper"></div>
        </div>
      </section>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>




